{"version":3,"sources":["js/Map.js","js/Bar.js","js/Text.js","js/WordCloud.js","App.js","serviceWorker.js","index.js"],"names":["Map","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","usData","anchor","React","createRef","_this2","Promise","all","fetch","then","data","json","results","setState","setMap","updateAirports","_this3","getRatio","side","margin","width","left","top","right","bottom","height","marginRatio","svg","d3","current","append","style","attr","path","us","tooltip","selectAll","topojson","objects","states","features","enter","on","d","handleStateClick","stateMap","properties","name","pageY","pageX","text","centroid","datum","a","b","airports","forEach","LATITUDE","LONGITUDE","_this4","projection","scale","translate","g","t","duration","symbols","AIRPORT","exit","transition","remove","location_","push","proLocation","handleAirportClick","STATE","airport","onAirportClick","onStateClick","react_default","createElement","Fragment","ref","id","className","Component","BarChart","setBar2","updateAvgDelay2","avgDelay","sort","AvgTotal","keys","x","rangeRound","padding","y","z","range","domain","map","_id","select","concat","stack_g","bandwidth","key","toFixed","onClickAirline","console","log","Number","avgArrivalDelay","bars","classed","ticks","pop","stack_rect","legend","slice","reverse","i","TextChart","method","body","JSON","stringify","type","airline","isAll","catch","e","tweets","parse","split","setBar","updateAvgDelay","tweet","WordCloud","buildSvg","setWordCloud","cloud","size","words","rotate","Math","random","font","fontSize","frequency","color","start","marginTop","usState","App","airportsSlice","airlines_dict","assign","handleMapStateClick","bind","assertThisInitialized","handleShowAllAirports","handleAirlineClick","url","opts","opts2","item","IATA_CODE","isDeparture","delay","_i","_Object$entries","entries","length","_ref3","_ref2","slicedToArray","value","isNaN","_this5","filtered","filter","_i2","_Object$entries2","_ref6","_ref5","Row","Col","md","Button","variant","onClick","Text_TextChart","Map_Map","WordCloud_WordCloud","Bar_BarChart","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.818b38d9.chunk.js","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport * as topojson from 'topojson-client';\nimport '../css/Map.css';\n\n\nexport default class Map extends React.Component {\n    constructor(props) {\n      super(props)\n      \n      this.state = {\n        usData: null,\n      }\n      this.anchor = React.createRef();\n    }\n\n\tcomponentDidMount() {\n        const url = [\"https://cdn.jsdelivr.net/npm/us-atlas@2/us/states-10m.json\"]\n\n    \tPromise.all([\n\t\t    fetch(url[0])\n\t        .then(data => data.json()),\n    \t])\n    \t.then((results) => {\n    \t\tthis.setState({\n    \t\t\tusData: results[0],\n    \t\t});\n    \t\tthis.setMap();\n    \t\tthis.updateAirports();\n    \t});\n    }\n\n    componentDidUpdate() {\n    \tthis.updateAirports()\n    }\n\n\tsetMap() {\n\t\tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 10, top: 10, right: 10, bottom: 10},\n\t    \twidth = 960 - margin.left - margin.right,\n\t      \theight = 680 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst svg = d3.select(this.anchor.current)\n      \t\t.append(\"svg\")\n      \t\t.style(\"padding\", marginRatio.top + \" \" + marginRatio.right + \" \" + marginRatio.bottom + \" \" + marginRatio.left)\n\t\t\t.attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n\t\t\t.attr(\"viewBox\", \"0 0 \" + ( width + margin.left + margin.right  ) + \" \" + ( height + margin.top + margin.bottom ))\n\t\t\t.attr(\"id\", \"svg-content-responsive\")\n\t\t\t.attr(\"class\", \"graph-svg-placeholder\");\n    \t\n        // const { width, height } = this.props;                             \n\n        const path = d3.geoPath();\n\t\tconst us = this.state.usData;   \n        \n        var tooltip = d3.select(\"#mapTooltip\")\n\t\t    // .append(\"div\")\n\t\t    // .style(\"position\", \"absolute\")\n\t\t    // .style(\"z-index\", \"999\")\n\t\t    // // .style(\"z-index\", \"10\")\n\t\t    // .style(\"visibility\", \"hidden\")\n\t\t    // .classed(\"map-tooltip\", true)\n\n\t\t    tooltip.append(\"rect\")\n\t\t\t    .attr(\"width\", 60)\n\t\t\t    .attr(\"height\", 20)\n\t\t\t    .attr(\"fill\", \"white\")\n\t\t\t    .style(\"opacity\", 0.5);\n\n\t\t\ttooltip.append(\"text\")\n\t\t\t\t.attr(\"x\", 30)\n\t\t\t\t.attr(\"dy\", \"1.2em\")\n\t\t\t\t.style(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"font-size\", \"12px\")\n\t\t\t\t.attr(\"font-weight\", \"bold\");\n\t\t\t\n        svg.append(\"g\")\n\t\t\t.attr(\"class\", \"feature\")\n\t\t\t.selectAll(\"path\")\n\t\t\t.data(topojson.feature(us, us.objects.states).features)\n\t\t\t.enter().append(\"path\")\n\t\t\t.attr(\"d\", path)\n\t\t\t.on(\"click\", (d) => {\n\t\t\t\tthis.handleStateClick(this.props.stateMap[d.properties.name])\n\t\t\t})\n\t\t\t.on(\"mousemove\", d => { \n\t\t\t\t// tooltip.text(\"Total Revenue: \");\n\n\t\t\t\treturn tooltip.style(\"top\",(d3.event.pageY-100)+\"px\")\n\t\t\t\t\t\t\t.style(\"left\",(d3.event.pageX+10)+\"px\");\n\t\t\t})\n\t\t\t.on(\"mouseover\", function(d){\n\t\t\t\t// console.log(d);\n\t\t      tooltip.text(d.properties.name);\n\t\t      return tooltip.style(\"visibility\", \"visible\");\n\t\t\t})\n\t\t\t.on(\"mouseout\", function() { d3.select(this).style(\"stroke\", \"\");\n      \t\t\t\treturn tooltip.style(\"visibility\", \"hidden\"); })\n\t\t\t// .append('title')\n\t\t\t// .text((d) => d.properties.name)\n\n\t\t\n\t\tsvg.selectAll(\"text\")\n\t\t    .data(topojson.feature(us, us.objects.states).features)\n\t\t    .enter()\n\t\t    .append(\"svg:text\")\n\t\t    .text((d) => {\n\t\t        return this.props.stateMap[d.properties.name];\n\t\t    })\n\t\t    .attr(\"x\", function(d){\n\t\t        return path.centroid(d)[0];\n\t\t    })\n\t\t    .attr(\"y\", function(d){\n\t\t        return  path.centroid(d)[1];\n\t\t    })\n\t\t    .attr(\"text-anchor\",\"middle\")\n\t\t    .attr('font-size','6pt');\n\n        svg.append(\"path\")\n           .attr(\"class\", \"state-boundaries\")\n           .datum(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; }))\n           .attr(\"class\", \"mesh\")\n           .attr(\"d\", path);\n\n        const data = this.props.airports;\n\n    \tdata.forEach(function (d) {\n\t        d.LATITUDE = +d.LATITUDE;\n\t        d.LONGITUDE = +d.LONGITUDE;\n\t    });\n\n\t    // const projection = d3.geoAlbersUsa()\n\t\t\t\t\t// \t\t .scale(1280)\n    \t// \t\t\t\t\t .translate([480, 300]);\n\n    \t\tsvg.append(\"g\")\n    \t\t\t\t .attr(\"id\", \"mapG\")\n    \t\t\t\t // .attr(\"class\", \"bubble\");\n\n   //  \tvar symbols = g.selectAll(\"circle\")\n\t  //       \t\t   .data(data, (d) => {return d})\n\n\t  //   symbols.enter().append(\"circle\")\n\t\t\t// .attr(\"class\", \"enter\")\n\t\t\t// .attr(\"class\", \"bubble\")\n\t\t\t// // .transition(t)\n\t\t\t// .attr(\"r\", 3)\n\t\t\t// .attr(\"transform\", (d) => {\n\t\t\t// \tvar location_ = [];\n\t\t\t// \tlocation_.push(d.LONGITUDE);\n\t\t\t// \tlocation_.push(d.LATITUDE);\n\t\t\t// \tvar proLocation = projection(location_);\n\t\t\t// \tif (!proLocation) proLocation = [867.169335964292, 190.40024748993005];\n\t\t\t// \treturn \"translate(\" + proLocation + \")\";\n\t\t\t// })\n\t\t\t// .on(\"click\", (d) => {\n\t\t\t// \tconsole.log(d);\n\t\t\t// })\n   //  \t\t.append(\"title\")\n   //  \t\t.text(function(d) { return d.AIRPORT + ', ' + d.STATE })\t\n\n\t}\n\n\tupdateAirports() {\n\t\tconst data = this.props.airports;\n    \tdata.forEach(function (d) {\n\t        d.LATITUDE = +d.LATITUDE;\n\t        d.LONGITUDE = +d.LONGITUDE;\n\t    });\n\n        const projection = d3.geoAlbersUsa()\n\t\t\t\t\t\t\t    .scale(1280)\n    \t\t\t\t\t\t\t.translate([480, 300]);\n\n    \tconst g = d3.select(\"#mapG\");\n    \t\n    \t// var maxProperty = Math.max.apply(Math, data.map(function (data) {\n\t    //     return data.LATITUDE;\n\t    // }));\n    \t\n        // d3.selectAll(\".bubble\").remove();\n\n        var t = d3.transition()\n      \t\t\t.duration(400);\n\n        var symbols = g.selectAll('circle')\n        \t\t\t   .data(data, (d) => {return d.AIRPORT})\n       \t\n       \t// var tooltip = d3.select(\"#mapTooltip\")\n       \t// symbols.exit().remove();\n\n       \t// EXIT old elements not present in new data.\n\t\tsymbols.exit()\n\t\t\t.attr(\"class\", \"exit\")\n\t\t\t.attr(\"class\", \"bubble\")\n\t\t\t.transition(t)\n\t\t\t.attr(\"r\", 0)\n      \t\t.style(\"fill-opacity\", 1e-6)\n\t\t  \t.remove();\n\n\t\t// UPDATE old elements present in new data.\n\t\tsymbols.attr(\"class\", \"update\")\n\t\t\t.attr(\"class\", \"bubble\")\n\t\t\t// .transition(t)\n\t\t\t.attr(\"r\", 5)\n\t\t\t.attr(\"transform\", function (d) {\n\t\t\t\tvar location_ = [];\n\t\t\t\tlocation_.push(d.LONGITUDE);\n\t\t\t\tlocation_.push(d.LATITUDE);\n\t\t\t\tvar proLocation = projection(location_);\n\t\t\t\tif (!proLocation) proLocation = [1000.169335964292, 190.40024748993005];\n\t\t\t\treturn \"translate(\" + proLocation + \")\";\n\t\t\t})\n\t\t\t.on(\"click\", (d) => {\n\t\t\t\tthis.handleAirportClick(d);\n\t\t\t})\n\n    \t\t.append(\"title\")\n    \t\t.text(function(d) {return d.AIRPORT + ', ' + d.STATE })\n\n\t\t// ENTER new elements present in new data.\n\t\tsymbols.enter().append(\"circle\")\n\t\t\t.attr(\"class\", \"enter\")\n\t\t\t.attr(\"class\", \"bubble\")\n\t\t\t// .transition(t)\n\t\t\t.attr(\"r\", 5)\n\t\t\t.attr(\"transform\", (d) => {\n\t\t\t\tvar location_ = [];\n\t\t\t\tlocation_.push(d.LONGITUDE);\n\t\t\t\tlocation_.push(d.LATITUDE);\n\t\t\t\tvar proLocation = projection(location_);\n\t\t\t\tif (!proLocation) proLocation = [1000.169335964292, 190.40024748993005];\n\t\t\t\treturn \"translate(\" + proLocation + \")\";\n\t\t\t})\n\t\t\t.on(\"click\", (d) => {\n\t\t\t\tthis.handleAirportClick(d)\n\t\t\t})\n\t\t\t.on('mousemove', function() {\n\t\t\t\td3.select(this).style(\"stroke\", \"black\")\n\t\t\t})\n\t\t\t.on('mouseout', function() {\n\t\t\t\td3.select(this).style(\"stroke\", \"\")\n\t\t\t})\n\t\t\t// .on(\"mousemove\", d => { \n\t\t\t// \t// tooltip.text(\"Total Revenue: \");\n\t\t\t// \treturn tooltip.style(\"top\",(d3.event.pageY-100)+\"px\")\n\t\t\t// \t\t\t\t.style(\"left\",(d3.event.pageX+10)+\"px\");\n\t\t\t// })\n\t\t\t// .on(\"mouseover\", d => {\n\t\t\t// \t// console.log(d);\n\t\t //      // d3.select(this).style(\"stroke\", \"black\");\n\t\t //      tooltip.text(d.AIRPORT + ', ' + d.STATE);\n\t\t //      return tooltip.style(\"visibility\", \"visible\");\n\t\t\t// })\n\t\t\t// .on(\"mouseout\", function() { d3.select(this).style(\"stroke\", \"\");\n   //    \t\t\t\treturn tooltip.style(\"visibility\", \"hidden\"); })\n    \t\t.append(\"title\")\n    \t\t.text(function(d) { return d.AIRPORT + ', ' + d.STATE })\t\n\t}\n\n    handleAirportClick(airport) {\n    \tthis.props.onAirportClick(airport);\n    }\n\n    handleStateClick(state) {\n    \tthis.props.onStateClick(state);\n    }\n    \n\n    render() {\n        return (\n        \t<React.Fragment>\n        \t<div ref={this.anchor} />\n    \t\t<div id=\"mapTooltip\" className=\"map-tooltip\"/>\n        \t</React.Fragment>\n        );\n    }\n}","import React from 'react';\nimport * as d3 from 'd3';\nimport '../css/Bar.css';\n\n\nexport default class BarChart extends React.Component {\n\tconstructor(props) {\n      super(props)\n      \n      this.state = {\n        usData: null,\n      }\n      this.anchor = React.createRef();\n    }\n\n    componentDidMount() {\n    \tthis.setBar2();\n    }\n\n    componentDidUpdate() {\n    \tthis.updateAvgDelay2();\n    }\n\n    updateAvgDelay2() {\n    \tvar data = this.props.avgDelay;\n    \tdata.sort(function(a, b) { return a.AvgTotal - b.AvgTotal; });\t\n\n    \tconst keys = [\"avgArrivalDelay\", \"avgDepartureDelay\"];\n    \tconst colors = [\"#98abc5\", \"#a05d56\"];\n\n\t \tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 40, top: 10, right: 10, bottom: 20},\n\t    \twidth = 600 - margin.left - margin.right,\n\t      \theight = 300 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst g = d3.select(\"#svg-g\");\n\n    \tvar x = d3.scaleBand()\n      \t\t.rangeRound([margin.left, width - margin.right])\n      \t\t.padding(0.2);\n\n\t\t\t\n\t\tvar y = d3.scaleLinear()\n\t\t\t.rangeRound([height - margin.bottom, margin.top])\n\n\t\tvar z = d3.scaleOrdinal()\n\t\t.range(colors)\n\t\t.domain(keys);\n\n\t\t\n\t\tx.domain(data.map((d) => { return d._id;}));\n\n\n\t\tg.select(\".xaxis\")\n\t\t\t.attr(\"transform\", `translate(0,${height - margin.bottom})`)\n\t\t\t.transition()\n\t\t\t.call(d3.axisBottom(x))\n\n\n\t\ty.domain([-1, \n\t\t\td3.max(data, d => {return d.AvgTotal}) + 5])\n      \tg.select(\".yaxis\")\n      \t\t.transition()\n\t\t\t.call(d3.axisLeft(y))\n\t\t\t// .append(\"text\")\n\t\t\t// .attr(\"x\", 2)\n\t\t\t// .attr(\"y\", y(y.ticks().pop()) + 0.5)\n\t\t\t// .attr(\"dy\", \"0.32em\")\n\t\t\t// .attr(\"fill\", \"#000\")\n\t\t\t// .attr(\"font-weight\", \"bold\")\n\t\t\t// .attr(\"text-anchor\", \"start\")\n\t\t\t// .text(\"min\");\n\n\t\tz.domain(keys);\n\n\t\tconst stack_g = g.select(\".zaxis\")\n\t\t\t\t\t\t.selectAll(\"g\")\n\t\t\t\t\t\t.data(d3.stack().keys(keys)(data), (d) => {return d})\n\t\t\t\t\t\t\n\n    \t// d3.selectAll(\".bar\").remove();\n    \tvar t = d3.transition()\n      \t\t\t.duration(400);\n\n      \tvar tooltip = d3.select(\"#barTooltip\")\n      \t\t\t\t\t.style(\"z-index\", \"999\")\n\n\t\t// EXIT old elements not present in new data.\n\t\tstack_g.exit()\n\t\t\t.attr(\"class\", \"exit\")\n\t\t\t.transition(t)\n\t\t\t.attr(\"y\", 20)\n      \t\t.style(\"fill-opacity\", 1e-6)\n\t\t  \t.remove();\n\n\t\t// UPDATE old elements present in new data.\n\t\tstack_g.attr(\"class\", \"update\")\n\t\t\t// .attr(\"class\", \"bar\")\n\t\t\t.selectAll(\"rect\")\n\t\t\t.data((d) => {return d})\n\t\t\t.enter()\n\t\t\t.transition(t)\n\t\t\t.attr(\"x\", function(d) { return x(d.data._id); })\n\t\t\t.attr(\"y\", function(d) { return y(d[1]); })\n\t\t\t.attr(\"height\", function(d) { return y(d[0]) - y(d[1]); })\n\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t\n\n\t\t// ENTER new elements present in new data.\n\t\tstack_g.enter().append(\"g\")\n\t\t\t.attr(\"fill\", function(d) { return z(d.key); })\n\t\t\t.attr(\"class\", \"enter\")\n\t\t\t// .attr(\"class\", \"bar\")\n\t\t\t// .attr(\"fill\", function(d) { return z(d.key); })\n\t\t\t.selectAll(\"rect\")\n\t\t\t.data((d) => {return d})\n\t\t\t.enter().append('rect')\n\t\t\t.transition(t)\n\t\t\t.attr(\"x\", function(d) { return x(d.data._id); })\n\t\t\t.attr(\"y\", function(d) { return y(d[1]); })\n\t\t\t.attr(\"height\", function(d) { return y(d[0]) - y(d[1]); })\n\t\t\t.attr(\"width\", x.bandwidth())\n\n\n\t\t\td3.selectAll(\"rect\")\n\t\t\t.on(\"mousemove\", function(){ \n\t\t\t\td3.select(this).style(\"stroke\", \"black\")\n\t\t\t\treturn tooltip.style(\"top\",(d3.event.pageY-40)+\"px\")\n\t\t\t\t\t\t\t.style(\"left\",(d3.event.pageX+10)+\"px\");\n\t\t\t}).on(\"mouseout\", function() { \n\t\t\t\td3.select(this).style(\"stroke\", \"\");\n      \t\t\treturn tooltip.style(\"visibility\", \"hidden\"); \n      \t\t})\n\t\t\t.on(\"mouseover\", function(d) {\n\t\t      tooltip.text((d[1] - d[0]).toFixed(1));\n\t\t      return tooltip.style(\"visibility\", \"visible\");\n\t\t    })\n\t\t    .on('click', d => {\n\t\t\t\t\t\tthis.props.onClickAirline(d.data._id);\n\t\t\t\t\t})\n\n\t\t\n    }\n\n    updateAvgDelay() {\n    \tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 40, top: 10, right: 10, bottom: 20},\n\t    \twidth = 400 - margin.left - margin.right,\n\t      \theight = 250 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst data = this.props.avgDelay;\n    \tconsole.log(data);\n\n    \tconst g = d3.select(\"#svg-g\");\n\n\t\tvar x = d3.scaleBand()\n      \t\t.rangeRound([0, width])\n      \t\t.padding(0.2);\n\n\t\tvar y = d3.scaleLinear()\n\t\t\t.rangeRound([height, 0])\n\t\t\n\t\tx.domain(data.map((d) => { return d._id;}));\n\n\n\t\tg.select(\".xaxis\")\n\t\t\t.attr(\"transform\", \"translate(0,\" + height + \")\")\n\t\t\t.transition()\n\t\t\t.call(d3.axisBottom(x))\n\n\n\t\ty.domain([\n\t\t\td3.min(data, function (d) {\n\t\t\treturn Number(d.avgArrivalDelay);\n\t\t}) - 2, \n\t\t\td3.max(data, function (d) {\n\t\t\treturn Number(d.avgArrivalDelay);\n\t\t}) + 2]);\n\n      \tg.select(\".yaxis\")\n      \t\t.transition()\n\t\t\t.call(d3.axisLeft(y));\n\n    \t// d3.selectAll(\".bar\").remove();\n    \tvar t = d3.transition()\n      \t\t\t.duration(400);\n\n    \tconst bars = g.selectAll(\"rect\")\n\t\t\t\t\t\t.data(data, (d) => {console.log(d);return d});\n\n\t\t// EXIT old elements not present in new data.\n\t\tbars.exit()\n\t\t\t.attr(\"class\", \"exit\")\n\t\t\t.attr(\"class\", \"bar\")\n\t\t\t.transition(t)\n\t\t\t.attr(\"y\", 60)\n      \t\t.style(\"fill-opacity\", 1e-6)\n\t\t  \t.remove();\n\n\t\t// UPDATE old elements present in new data.\n\t\tbars.attr(\"class\", \"update\")\n\t\t\t.attr(\"class\", \"bar\")\n\t\t\t.transition(t)\n\t\t\t.attr(\"x\", function (d) {\n\t\t\t\treturn x(d._id);\n\t\t\t})\n\t\t\t.attr(\"y\", function (d) {\n\t\t\t\treturn y(Number(d.avgArrivalDelay));\n\t\t\t})\n\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t.attr(\"height\", function (d) {\n\t\t\t\treturn height - y(Number(d.avgArrivalDelay));\n\t\t\t});\n\n\t\t// ENTER new elements present in new data.\n\t\tbars.enter().append(\"rect\")\n\t\t\t.attr(\"class\", \"enter\")\n\t\t\t.attr(\"class\", \"bar\")\n\t\t\t.transition(t)\n\t\t\t.attr(\"x\", function (d) {\n\t\t\t\treturn x(d._id);\n\t\t\t})\n\t\t\t.attr(\"y\", function (d) {\n\t\t\t\treturn y(Number(d.avgArrivalDelay));\n\t\t\t})\n\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t.attr(\"height\", function (d) {\n\t\t\t\treturn height - y(Number(d.avgArrivalDelay));\n\t\t\t});\t\n\n\t\t// bars.enter().append(\"rect\")\n\t\t// .attr(\"class\", \"bar\")\n\n\t\t// bars.transition()\n\t //        .duration(400)\n\t\t// \t.attr(\"x\", function (d) {\n\t\t// \t\treturn x(d._id);\n\t\t// \t})\n\t\t// \t.attr(\"y\", function (d) {\n\t\t// \t\treturn y(Number(d.avgArrivalDelay));\n\t\t// \t})\n\t\t// \t.attr(\"width\", x.bandwidth())\n\t\t// \t.attr(\"height\", function (d) {\n\t\t// \t\tconsole.log(height - y(Number(d.avgArrivalDelay)));\n\t\t// \t\treturn height - y(Number(d.avgArrivalDelay));\n\t\t// \t});\n\t\t// bars.exit().remove();\n    }\n\n    setBar() {\n    \tconst data = this.props.avgDelay;\n\n\t \tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 40, top: 10, right: 10, bottom: 20},\n\t    \twidth = 400 - margin.left - margin.right,\n\t      \theight = 250 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst svg = d3.select(this.anchor.current)\n    \t\t\t\t.append(\"svg\")\n    \t\t\t\t.style(\"padding\", marginRatio.top + \" \" + marginRatio.right + \" \" + marginRatio.bottom + \" \" + marginRatio.left)\n\t\t\t\t\t.attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n\t\t\t\t\t.attr(\"viewBox\", \"0 0 \" + ( width + margin.left + margin.right  ) + \" \" + ( height + margin.top + margin.bottom ))\n\t\t\t\t\t.attr(\"id\", \"svg-bar\")\n\t\t\t\t\t.attr(\"class\", \"graph-svg-placeholder\");\n\n\t\tconst g = svg.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\t\t\t\t\t.attr(\"id\", \"svg-g\")\n\t\tg.append(\"g\")\n    \t\t.classed(\"xaxis\", true)\n\n\t    g.append(\"g\")\n\t    \t.classed(\"yaxis\", true)\n\n\t    var x = d3.scaleBand()\n      \t\t.rangeRound([0, width])\n      \t\t.padding(0.2);\n\n\t\t\t\n\t\tvar y = d3.scaleLinear()\n\t\t\t.rangeRound([height, 0])\n\t\t\n\n\t\tx.domain(data.map((d) => { return d._id;}));\n\n\t\tg.select(\".xaxis\")\n\t\t\t.attr(\"transform\", \"translate(0,\" + height + \")\")\n\t\t\t.transition()\n\t\t\t.call(d3.axisBottom(x))\n\n\n\t\ty.domain([\n\t\t\td3.min(data, function (d) {\n\t\t\treturn Number(d.avgArrivalDelay);\n\t\t}) - 2, \n\t\t\td3.max(data, function (d) {\n\t\t\treturn Number(d.avgArrivalDelay);\n\t\t}) + 2]);\n\n      \tg.select(\".yaxis\")\n\t\t\t.call(d3.axisLeft(y))\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"fill\", \"#000\")\n\t\t\t.attr(\"transform\", \"rotate(-90)\")\n\t\t\t.attr(\"y\", 6)\n\t\t\t.attr(\"dy\", \"0.71em\")\n\t\t\t.attr(\"text-anchor\", \"end\")\n\t\t\t.text(\"Average Delay (min)\");\n\n\t    const bars = g.selectAll(\".bar\")\n\t\t\t\t\t\t.data(this.props.avgDelay);\n\t\t\n\t\tbars.enter().append(\"rect\")\n\t\t.attr(\"class\", \"bar\")\n\t\t.attr(\"x\", function (d) {\n\t\t\t\treturn x(d._id);\n\t\t\t})\n\t\t\t.attr(\"y\", function (d) {\n\t\t\t\treturn y(Number(d.avgArrivalDelay));\n\t\t\t})\n\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t.attr(\"height\", function (d) {\n\t\t\t\treturn height - y(Number(d.avgArrivalDelay));\n\t\t\t});\n    }\n\n    setBar2() {\n    \tvar data = this.props.avgDelay;\n    \tdata.sort(function(a, b) { return a.AvgTotal - b.AvgTotal; });\n    \t\n    \tconst keys = [\"avgArrivalDelay\", \"avgDepartureDelay\"];\n\n\t \tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 40, top: 10, right: 10, bottom: 20},\n\t    \twidth = 600 - margin.left - margin.right,\n\t      \theight = 300 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst svg = d3.select(this.anchor.current)\n    \t\t\t\t.append(\"svg\")\n    \t\t\t\t.style(\"padding\", marginRatio.top + \" \" + marginRatio.right + \" \" + marginRatio.bottom + \" \" + marginRatio.left)\n\t\t\t\t\t.attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n\t\t\t\t\t.attr(\"viewBox\", \"0 0 \" + ( width + margin.left + margin.right  ) + \" \" + ( height + margin.top + margin.bottom ))\n\t\t\t\t\t.attr(\"id\", \"svg-bar\")\n\t\t\t\t\t.attr(\"class\", \"graph-svg-placeholder\");\n\n\t\tconst g = svg.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\t\t\t\t\t.attr(\"id\", \"svg-g\")\n\n\t\tg.append(\"g\")\n    \t\t.classed(\"xaxis\", true)\n\n\t    g.append(\"g\")\n\t    \t.classed(\"yaxis\", true)\n\n\t    g.append(\"g\")\n\t    \t.classed(\"zaxis\", true)\n\n\t    var x = d3.scaleBand()\n      \t\t.rangeRound([margin.left, width - margin.right])\n      \t\t.padding(0.2);\n\n\t\t\t\n\t\tvar y = d3.scaleLinear()\n\t\t\t.rangeRound([height - margin.bottom, margin.top])\n\n\t\tconst colors = [\"#98abc5\", \"#a05d56\"];\n\n\t\tvar z = d3.scaleOrdinal()\n\t\t.range(colors)\n\t\t.domain(keys);\n\t\t\n\n\t\tx.domain(data.map((d) => { return d._id;}));\n\n\t\tg.select(\".xaxis\")\n\t\t\t.attr(\"transform\", `translate(0,${height - margin.bottom})`)\n\t\t\t.transition()\n\t\t\t.call(d3.axisBottom(x))\n\n\n\t\ty.domain([-1, \n\t\t\td3.max(data, d => {return d.AvgTotal}) + 5])\n      \tg.select(\".yaxis\")\n\t\t\t.call(d3.axisLeft(y))\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"x\", 2)\n\t\t\t.attr(\"y\", y(y.ticks().pop()) + 0.5)\n\t\t\t.attr(\"dy\", \"0.32em\")\n\t\t\t.attr(\"fill\", \"#000\")\n\t\t\t.attr(\"font-weight\", \"bold\")\n\t\t\t.attr(\"text-anchor\", \"start\")\n\t\t\t.text(\"min\");\n\n\t\tz.domain(keys);\n\t\tconst stack_g = g.select(\".zaxis\")\n\t\t\t\t\t\t.selectAll(\"g\")\n\t\t\t\t\t\t.data(d3.stack().keys(keys)(data))\n\t\t\t\t\t\t.enter().append(\"g\")\n\t\t\t\t\t\t.attr(\"fill\", function(d) { return z(d.key); })\n\n\t\tconst stack_rect = stack_g.selectAll(\"rect\")\n\t\t\t\t\t.data(function(d) { return d; })\n\t\t\t\t\t.enter().append(\"rect\")\n\t\t\t\t\t.attr(\"class\", \"bar\")\n\t\t\t\t\t.attr(\"x\", function(d) { return x(d.data._id); })\n\t\t\t\t\t.attr(\"y\", function(d) { return y(d[1]); })\n\t\t\t\t\t.attr(\"height\", function(d) { return y(d[0]) - y(d[1]); })\n\t\t\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t\t\t.on('click', d => {\n\t\t\t\t\t\tthis.props.onClickAirline(d.data._id);\n\t\t\t\t\t})\n\t\t\n\t\tvar tooltip = d3.select(\"#barTooltip\")\n\n\t\t\tstack_rect.on(\"mousemove\", d => { \n\t\t\t\treturn tooltip.style(\"top\",(d3.event.pageY-40)+\"px\")\n\t\t\t\t\t\t\t.style(\"left\",(d3.event.pageX+10)+\"px\");\n\t\t\t}).on(\"mouseout\", function() { \n\t\t\t\td3.select(this).style(\"stroke\", \"\");\n      \t\t\treturn tooltip.style(\"visibility\", \"hidden\"); \n      \t\t})\n\t\t\t.on(\"mouseover\", function(d) {\n\t\t\t  d3.select(this).style(\"stroke\", \"black\")\n\t\t      tooltip.text((d[1] - d[0]).toFixed(1));\n\t\t      return tooltip.style(\"visibility\", \"visible\");\n\t\t    });\n\n\t\t\t\n\n\t\tvar legend = g.append(\"g\")\n\t\t.attr(\"font-family\", \"sans-serif\")\n\t\t.attr(\"font-size\", 10)\n\t\t.attr(\"text-anchor\", \"end\")\n\t\t.selectAll(\"g\")\n\t\t.data(keys.slice().reverse())\n\t\t.enter().append(\"g\")\n\t\t.attr(\"transform\", function(d, i) { return \"translate(0,\" + i * 20 + \")\"; });\n\n\t\tlegend.append(\"rect\")\n\t\t.attr(\"x\", width - 19)\n\t\t.attr(\"width\", 19)\n\t\t.attr(\"height\", 19)\n\t\t.attr(\"fill\", z);\n\n\t\tlegend.append(\"text\")\n\t\t.attr(\"x\", width - 24)\n\t\t.attr(\"y\", 9.5)\n\t\t.attr(\"dy\", \"0.32em\")\n\t\t.text(function(d) { return d; });\n    }\n\n    render() {\n    \treturn(\n    \t\t<React.Fragment>\n    \t\t<div ref={this.anchor} />\n    \t\t</React.Fragment>\n    \t);\n    }\n}","import React from 'react';\nimport * as d3 from 'd3';\nimport '../css/Text.css';\n\nexport default class TextChart extends React.Component {\n\tconstructor(props) {\n      super(props)\n      this.state = {\n      \ttext: null,\n      }\n      \n      this.anchor = React.createRef();\n    }\n\n    componentDidMount() {\n    \tconst url = [\"https://aukt2i8vp5.execute-api.us-east-1.amazonaws.com/Prod/main\"]\n\t    const opts = {\"type\": \"findOneTweet\", \"airline\": \"\", \"isAll\": true};\n\n\t    Promise.all([\n\t      fetch(url[0], {\n\t        method: 'post',\n\t        body: JSON.stringify(opts)\n\t      })\n\t      .then(data => data.json())\n\t      .catch((e) => console.log(e)),\n\t    ])\n\t    .then((results) => {\n\t      \n\t      const data = JSON.parse(JSON.parse(results[0].tweets));\n\t      \n\t      // console.log(text)\n\t      const tweets = data.text\n\t      // console.log(tweets)\n\t      this.setState({text: tweets.split()})\n\t      this.setBar()\n\t      this.updateAvgDelay(this.state.text);\t\n\t    });\n    \t\n    }\n\n    componentDidUpdate() {\n    \tif (this.props.text === null) {\n    \t\tthis.updateAvgDelay(this.state.text);\t\n    \t}\n    \telse {\n    \t\tthis.updateAvgDelay(this.props.text);\n    \t}\n    }\n\n    updateAvgDelay(tweet) {\n    \tconst data = tweet\n\n    \tconst g = d3.select('#text-g')\n    \tvar t = d3.transition()\n\t\t  .duration(750);\n\n\t\t// JOIN new data with old elements.\n\t\tvar text = g.selectAll(\"text\")\n\t\t.data(data, function(d) {return d; });\n\t\t\n\t\t// EXIT old elements not present in new data.\n\t\ttext.exit()\n\t\t  .attr(\"class\", \"exit\")\n\t\t.transition(t)\n\t\t  .attr(\"y\", 60)\n\t\t  .style(\"fill-opacity\", 1e-6)\n\t\t  .style('fill', \"brown\")\n\t\t  .remove();\n\n\t\t// UPDATE old elements present in new data.\n\t\ttext.attr(\"class\", \"update\")\n\t\t  .attr(\"y\", 0)\n\t\t  .style(\"fill-opacity\", 1)\n\t\t  .style('fill', \"#333\")\n\t\t.transition(t)\n\t\t  .attr(\"x\", function(d, i) { return i * 32; });\n\n\t\t// ENTER new elements present in new data.\n\t\ttext.enter().append(\"text\")\n\t\t  .attr(\"class\", \"enter\")\n\t\t  .attr(\"dy\", \".35em\")\n\t\t  .attr(\"y\", -60)\n\t\t  .attr(\"x\", function(d, i) { return i * 32; })\n\t\t  .style(\"fill-opacity\", 1e-6)\n\t\t  .style('fill', \"green\")\n\t\t  .style('font', \"bold 20px monospace\")\n\t\t  .text(function(d) { return d; })\n\t\t.transition(t)\n\t\t  .attr(\"y\", 0)\n\t\t  .style(\"fill-opacity\", 1);\n\n    }\n\n    setBar() {\n    \tconst width = 1800;\n    \tconst height = 100;\n\n\t\tvar svg = d3.select(this.anchor.current)\n\t\t\t\t\t.append('svg')\n\t\t\t\t\t.attr('width', width)\n\t\t\t\t\t.attr('height', height)\n\t\t\t\t\t.attr(\"id\", 'svg-text')\n\t\t    \n\t\tsvg.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(100,\" + (height / 2) + \")\")\n\t\t\t\t\t.attr(\"id\", \"text-g\");\n\t\t\n    }\n\n    \n\n    render() {\n    \treturn(\n    \t\t<React.Fragment>\n    \t\t<div ref={this.anchor} />\n    \t\t</React.Fragment>\n    \t);\n    }\n}","import React from 'react';\nimport * as d3 from 'd3';\nimport cloud from 'd3-cloud';\n\nexport default class WordCloud extends React.Component {\n    constructor(props) {\n      super(props)\n      \n      this.state = {\n        usData: null,\n        tweets: null,\n      }\n      this.anchor = React.createRef();\n    }\n\n\tcomponentDidMount() {\n\t    const url = [\"https://aukt2i8vp5.execute-api.us-east-1.amazonaws.com/Prod/main\"]\n\t    const opts = {\"type\": \"queryTweets\", \"airline\": \"Virgin America\", \"isAll\": false};\n\n\t    Promise.all([\n\t      fetch(url[0], {\n\t        method: 'post',\n\t        body: JSON.stringify(opts)\n\t      })\n\t      .then(data => data.json())\n\t      .catch((e) => console.log(e)),\n\t    ])\n\t    .then((results) => {\n\t      \n\t      const data = JSON.parse(JSON.parse(results[0].tweets));\n\t      \n\t      // console.log(text)\n\t      const tweets = data\n\t      // console.log(tweets)\n\t      this.setState({tweets: tweets})\n\t      this.buildSvg();\n    \t  this.setWordCloud(tweets)\n\t    });\n    }\n\n    componentDidUpdate() {\n    \t// this.updateAirports()\n    \tif (this.props.tweets === null) {\n    \t\tthis.setWordCloud(this.state.tweets)\t\n    \t}\n    \telse {\n    \t\tthis.setWordCloud(this.props.tweets)\t\n    \t}\n    \t\n\n    // \t[\n    //   \"Hello\", \"world\", \"normally\", \"you\", \"want\", \"more\", \"words\",\n    //   \"than\", \"this\"].map(function(d) {\n    //   return {text: d, size: 10 + Math.random() * 90, test: \"haha\"};\n    // })\n    }\n\n    buildSvg() {\n    \tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 5, top: 10, right: 10, bottom: 10},\n\t    \twidth = 600 - margin.left - margin.right,\n\t      \theight = 300 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \td3.select(this.anchor.current)\n      \t\t.append(\"svg\")\n      \t\t.style(\"padding\", marginRatio.top + \" \" + marginRatio.right + \" \" + marginRatio.bottom + \" \" + marginRatio.left)\n      \t\t.style(\"background-color\", 'black')\n      \t\t.style(\"margin-left\", 70 + 'px')\n\t\t\t.attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n\t\t\t.attr(\"viewBox\", \"0 0 \" + ( width + margin.left + margin.right  ) + \" \" + ( height + margin.top + margin.bottom ))\n\t\t\t.attr(\"id\", \"svg-cloud\")\n\t\t\t.attr(\"class\", \"graph-svg-placeholder\");\n\n\t\td3.select(\"#svg-cloud\")\n\t\t\t\t.attr(\"width\", width)\n\t\t\t\t.attr(\"height\", height)\n\t\t\t\t.append(\"g\")\n\t\t\t\t.attr(\"transform\", \"translate(\" + 600 / 2 + \",\" + 300 / 2 + \")\")\n\t\t\t\t.attr(\"id\", \"cloud-g\")\n    }\n    \n\n\tsetWordCloud(tweets) {\n\t\t\n\n\t\tvar layout = cloud()\n\t\t    .size([600, 300])\n\t\t    .words(tweets)\n\t\t    .padding(5)\n\t\t    .rotate(function() { return ~~(Math.random() * 2) * 90; })\n\t\t    .font(\"Impact\")\n\t\t    .fontSize(function(d) { return d.frequency; })\n\t\t    .on(\"end\", draw)\n\n\t\t\n\t\t    \n\t\tlayout.start();\n\t\t\n\t\tfunction draw(words) {\n\t\t\t// var colors = [\"#98abc5\", \"#8a89a6\", \"#7b6888\", \"#6b486b\", \"#a05d56\", \"#d0743c\", \"#ff8c00\"];\n\t\t\tvar color = d3.scaleOrdinal(d3.schemeSpectral[9]);\n\t\n\t\t\tconst cloud = d3.select(\"#cloud-g\")\n\t\t\t\t.selectAll(\"text\")\n\t\t\t\t.data(words, (d) => {return d.text})\n\n\t\t\t//Exiting words\n\t\t\tcloud.exit()\n\t\t\t.attr(\"class\", \"exit\")\n\t\t\t.transition()\n\t\t\t    .duration(100)\n\t\t\t    .style('fill-opacity', 0)\n\t\t\t    .attr('font-size', 1)\n\t\t\t    .remove();\n\n\t\t\t//Entering and existing words\n\t\t\tcloud\n\t\t\t.attr(\"class\", \"update\")\n\t\t\t.transition()\n\t\t\t    .duration(100)\n\t\t\t    .style(\"font-size\", function(d) { return d.frequency * 3 + 10 + \"px\"; })\n\t\t\t\t\t\t.style(\"fill\", function(d,i) { return color(i); })\n\t\t\t    .attr(\"transform\", function(d) {\n\t\t\t        return \"translate(\" + [d.x, d.y] + \")\";\n\t\t\t    })\n\t\t\t    .style(\"fill-opacity\", 1);\n\n\t\t\t//Entering words\n\t\t\tcloud.enter()\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"class\", \"enter\")\n\t\t\t.transition()\n\t\t\t.duration(100)\n\t\t\t.style(\"font-size\", function(d) { return d.frequency * 3 + 10 + \"px\"; })\n\t\t\t.style(\"fill\", function(d,i) { return color(i); })\n\t\t\t.attr(\"transform\", function(d) {\n\t\t\treturn \"translate(\" + [d.x, d.y] + \")\";\n\t\t\t})\n\t\t\t.style(\"fill-opacity\", 1)\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t.attr('font-size', 1)\n\t\t\t.text(function(d) { return d.text; });\n// \"translate(\" + [d.x, d.y] + \")rotate(\" + d.rotate + \")\";\n\t\t\t\n\n\t\t\t\n\t\t}\n\n\t\t\n\n\t}\n\n\n    \n\n    render() {\n        return (\n        \t<React.Fragment>\n        \t<div ref={this.anchor} style={{marginTop: -30}}/>\n        \t</React.Fragment>\n        );\n    }\n}","import React from 'react';\n// import './App.css';\nimport MapChart from './js/Map.js';\nimport BarChart from './js/Bar.js';\nimport TextChart from './js/Text.js';\nimport WordCloud from './js/WordCloud.js';\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport avgDelay from './AvgDelay.json';\nimport usState from './js/us-state.json';\n// import loadJsonFile from 'load-json-file';\nimport airlines_dict from './js/airlines_dict.json';\nimport * as d3 from 'd3';\n\n\n\nconst stateMap = {};\nObject.keys(usState).forEach((key) => {\n  stateMap[usState[key]] = key;\n});\n\nclass App extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      airports: null,\n      airportsSlice: null,\n      avgDelay: null,\n      text: null,\n      tweets: null,\n      airlines_dict: Object.assign(airlines_dict),\n    }\n    this.handleMapStateClick = this.handleMapStateClick.bind(this);\n    this.handleShowAllAirports = this.handleShowAllAirports.bind(this);\n    this.handleAirportClick = this.handleAirportClick.bind(this);\n    this.handleAirlineClick = this.handleAirlineClick.bind(this);\n  }\n  \n  componentDidMount() {\n      const url = [\"https://aukt2i8vp5.execute-api.us-east-1.amazonaws.com/Prod/main\"]\n      const opts = {\"type\": \"basic\"};\n\n      Promise.all([\n        fetch(url[0], {\n          method: 'post',\n          body: JSON.stringify(opts)\n        })\n        .then(data => data.json()),\n      ])\n      .then((results) => {\n        this.setState({\n          airports: JSON.parse(JSON.parse(results[0].airports)),\n          airportsSlice: JSON.parse(JSON.parse(results[0].airports)),\n          avgDelay: avgDelay,\n        });\n      });\n  }\n\n  handleShowAllAirports() {\n\n    this.setState({\n      airportsSlice: this.state.airports,\n      avgDelay: avgDelay,\n      \n    })  \n  }\n\n  handleAirlineClick(airline) {\n    const url = [\"https://aukt2i8vp5.execute-api.us-east-1.amazonaws.com/Prod/main\"]\n    const opts = {\"type\": \"queryTweets\", \"airline\": this.state.airlines_dict[airline], \"isAll\": false};\n    const opts2 = {\"type\": \"findOneTweet\", \"airline\": this.state.airlines_dict[airline], \"isAll\": false};\n\n    Promise.all([\n      fetch(url[0], {\n        method: 'post',\n        body: JSON.stringify(opts)\n      })\n      .then(data => data.json())\n      .catch((e) => console.log(e)),\n      fetch(url[0], {\n        method: 'post',\n        body: JSON.stringify(opts2)\n      })\n      .then(data => data.json())\n      .catch((e) => console.log(e)),\n    ])\n    .then((results) => {\n      \n      const data = JSON.parse(JSON.parse(results[0].tweets));\n\n      const tweet = JSON.parse(JSON.parse(results[1].tweets)).text;\n      \n      // console.log(text)\n      const tweets = data.map((item) => {\n        if (item.text === \"\") {\n          item.frequency = 0\n        }\n        return item\n      })\n      // console.log(tweets)\n      this.setState({\n        tweets: tweets,\n        text: tweet.split(),\n      })\n    });\n\n  }\n\n  handleAirportClick(airport) {\n    const airports = [];\n    airports.push(airport.IATA_CODE);\n\n    const url = [\"https://aukt2i8vp5.execute-api.us-east-1.amazonaws.com/Prod/main\"]\n    const opts = {\"type\": \"queryAirports\", \"isDeparture\": true, \"airports\": airports };\n\n    Promise.all([\n      fetch(url[0], {\n        method: 'post',\n        body: JSON.stringify(opts)\n      })\n      .then(data => data.json())\n      .catch((e) => console.log(e)),\n    ])\n    .then((results) => {\n      \n      const data = JSON.parse(JSON.parse(results[0].delay));\n      data.forEach((item) => {\n        // Todo...\n        for (const [key, value] of Object.entries(item)) {\n          if (!isNaN(value) && value < 0) {\n            item[key] = 0;\n          } \n        }\n        item[\"AvgTotal\"] = item[\"avgArrivalDelay\"] + item[\"avgDepartureDelay\"]\n      })\n      this.setState({\n        avgDelay: data,\n      })\n    });\n  }\n\n  handleMapStateClick(state) {\n    var filtered = this.state.airports.filter(function(d) {\n        return (d.STATE === state);\n    })\n\n    const airports = [];\n    filtered.forEach((item) => {\n      // Todo...\n      airports.push(item.IATA_CODE)\n    });\n\n    const url = [\"https://aukt2i8vp5.execute-api.us-east-1.amazonaws.com/Prod/main\"]\n    const opts = {\"type\": \"queryAirports\", \"isDeparture\": true, \"airports\": airports};\n    const opts2 = {\"type\": \"findOneTweet\", \"airline\": \"\", \"isAll\": true};\n\n    Promise.all([\n      fetch(url[0], {\n        method: 'post',\n        body: JSON.stringify(opts)\n      })\n      .then(data => data.json())\n      .catch((e) => console.log(e)),\n      fetch(url[0], {\n        method: 'post',\n        body: JSON.stringify(opts2)\n      })\n      .then(data => data.json())\n      .catch((e) => console.log(e))\n    ])\n    .then((results) => {\n      const data = JSON.parse(JSON.parse(results[0].delay));\n      const tweet = JSON.parse(JSON.parse(results[1].tweets));\n      \n      data.forEach((item) => {\n        // Todo...\n        for (const [key, value] of Object.entries(item)) {\n          if (!isNaN(value) && value < 0) {\n            item[key] = 0;\n          } \n        }\n        item[\"AvgTotal\"] = item[\"avgArrivalDelay\"] + item[\"avgDepartureDelay\"]\n      })\n      this.setState({\n        avgDelay: data,\n        airportsSlice: filtered,\n        text: tweet.text.split(),\n      })\n    });\n\n  }\n\n  render() {\n    if (!this.state.airports) return null;\n\n    return (\n      <React.Fragment>\n          <div id=\"barTooltip\" className=\"bar-tooltip\" />\n          <Row className=\"justify-content-md-center\"> \n            <Col md=\"auto\" > \n              <Button variant=\"outline-info\" onClick={this.handleShowAllAirports}> Show all airports </Button>\n            </Col>\n          </Row>\n          <Row>\n            <TextChart text={this.state.text} />\n          </Row>\n          <Row>\n            <Col md={6}>\n              <MapChart \n              stateMap={stateMap} \n              airports={this.state.airportsSlice}\n              onStateClick={this.handleMapStateClick}\n              onAirportClick={this.handleAirportClick}/>\n            </Col>\n            <Col md={4}>\n                \n                <WordCloud \n                  tweets={this.state.tweets}\n                  />\n\n\n                <BarChart \n                  avgDelay={this.state.avgDelay}\n                  onClickAirline={this.handleAirlineClick}/>\n              \n            </Col>\n          </Row>\n\n\n          \n        \n         \n      </React.Fragment>\n    );\n  }\n  \n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}