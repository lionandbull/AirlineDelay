{"version":3,"sources":["js/Map.js","js/Bar.js","js/Text.js","js/WordCloud.js","App.js","serviceWorker.js","index.js"],"names":["Map","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","usData","anchor","React","createRef","_this2","Promise","all","fetch","then","data","json","results","setState","setMap","updateAirports","_this3","console","log","stateMap","getRatio","side","margin","width","left","top","right","bottom","height","marginRatio","svg","d3","current","append","style","attr","path","us","tooltip","selectAll","topojson","objects","states","features","enter","on","d","handleStateClick","properties","name","pageY","pageX","text","centroid","datum","a","b","airports","forEach","LATITUDE","LONGITUDE","scale","translate","_this4","projection","g","t","duration","symbols","exit","transition","remove","location_","push","proLocation","handleAirportClick","AIRPORT","STATE","airport","onAirportClick","onStateClick","react_default","createElement","Fragment","ref","id","className","Component","BarChart","setBar2","updateAvgDelay2","avgDelay","sort","AvgTotal","keys","x","rangeRound","padding","y","z","range","domain","map","_id","select","concat","stack_g","bandwidth","key","toFixed","Number","avgArrivalDelay","bars","classed","ticks","pop","stack_rect","onClickAirline","legend","slice","reverse","i","TextChart","setBar","updateAvgDelay","WordCloud","words","setWordCloud","tweets","replace","split","size","Math","random","layout","cloud","rotate","font","fontSize","colors","start","usState","App","airportsSlice","alphabet","handleMapStateClick","bind","assertThisInitialized","handleShowAllAirports","handleAirlineClick","method","body","JSON","stringify","type","parse","airline","opts","airlines_dict","catch","e","item","IATA_CODE","isDeparture","delay","_i","_Object$entries","entries","length","_ref3","_ref2","slicedToArray","value","isNaN","_this5","filtered","filter","_i2","_Object$entries2","_ref6","_ref5","floor","Row","Col","md","Button","variant","onClick","Text_TextChart","Map_Map","Bar_BarChart","WordCloud_WordCloud","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.df110673.chunk.js","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport * as topojson from 'topojson-client';\nimport '../css/Map.css';\n\n\nexport default class Map extends React.Component {\n    constructor(props) {\n      super(props)\n      \n      this.state = {\n        usData: null,\n      }\n      this.anchor = React.createRef();\n    }\n\n\tcomponentDidMount() {\n        const url = [\"https://cdn.jsdelivr.net/npm/us-atlas@2/us/states-10m.json\"]\n\n    \tPromise.all([\n\t\t    fetch(url[0])\n\t        .then(data => data.json()),\n    \t])\n    \t.then((results) => {\n    \t\tthis.setState({\n    \t\t\tusData: results[0],\n    \t\t});\n    \t\tthis.setMap();\n    \t\tthis.updateAirports();\n    \t});\n    }\n\n    componentDidUpdate() {\n    \tthis.updateAirports()\n    }\n\n\tsetMap() {\n\t\tconsole.log(this.props.stateMap);\n\t\tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 10, top: 10, right: 10, bottom: 10},\n\t    \twidth = 960 - margin.left - margin.right,\n\t      \theight = 680 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst svg = d3.select(this.anchor.current)\n      \t\t.append(\"svg\")\n      \t\t.style(\"padding\", marginRatio.top + \" \" + marginRatio.right + \" \" + marginRatio.bottom + \" \" + marginRatio.left)\n\t\t\t.attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n\t\t\t.attr(\"viewBox\", \"0 0 \" + ( width + margin.left + margin.right  ) + \" \" + ( height + margin.top + margin.bottom ))\n\t\t\t.attr(\"id\", \"svg-content-responsive\")\n\t\t\t.attr(\"class\", \"graph-svg-placeholder\");\n    \t\n        // const { width, height } = this.props;                             \n\n        const path = d3.geoPath();\n\t\tconst us = this.state.usData;   \n        \n        var tooltip = d3.select(\"#mapTooltip\")\n\t\t    // .append(\"div\")\n\t\t    // .style(\"position\", \"absolute\")\n\t\t    // .style(\"z-index\", \"999\")\n\t\t    // // .style(\"z-index\", \"10\")\n\t\t    // .style(\"visibility\", \"hidden\")\n\t\t    // .classed(\"map-tooltip\", true)\n\n\t\t    tooltip.append(\"rect\")\n\t\t\t    .attr(\"width\", 60)\n\t\t\t    .attr(\"height\", 20)\n\t\t\t    .attr(\"fill\", \"white\")\n\t\t\t    .style(\"opacity\", 0.5);\n\n\t\t\ttooltip.append(\"text\")\n\t\t\t\t.attr(\"x\", 30)\n\t\t\t\t.attr(\"dy\", \"1.2em\")\n\t\t\t\t.style(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"font-size\", \"12px\")\n\t\t\t\t.attr(\"font-weight\", \"bold\");\n\t\t\t\n        svg.append(\"g\")\n\t\t\t.attr(\"class\", \"feature\")\n\t\t\t.selectAll(\"path\")\n\t\t\t.data(topojson.feature(us, us.objects.states).features)\n\t\t\t.enter().append(\"path\")\n\t\t\t.attr(\"d\", path)\n\t\t\t.on(\"click\", (d) => {\n\t\t\t\tthis.handleStateClick(this.props.stateMap[d.properties.name])\n\t\t\t})\n\t\t\t.on(\"mousemove\", d => { \n\t\t\t\t// tooltip.text(\"Total Revenue: \");\n\t\t\t\treturn tooltip.style(\"top\",(d3.event.pageY-100)+\"px\")\n\t\t\t\t\t\t\t.style(\"left\",(d3.event.pageX+10)+\"px\");\n\t\t\t})\n\t\t\t.on(\"mouseover\", d => {\n\t\t\t\t// console.log(d);\n\t\t      // d3.select(this).style(\"stroke\", \"black\");\n\t\t      tooltip.text(d.properties.name);\n\t\t      return tooltip.style(\"visibility\", \"visible\");\n\t\t\t})\n\t\t\t.on(\"mouseout\", function() { d3.select(this).style(\"stroke\", \"\");\n      \t\t\t\treturn tooltip.style(\"visibility\", \"hidden\"); })\n\t\t\t// .append('title')\n\t\t\t// .text((d) => d.properties.name)\n\n\t\t\n\t\tsvg.selectAll(\"text\")\n\t\t    .data(topojson.feature(us, us.objects.states).features)\n\t\t    .enter()\n\t\t    .append(\"svg:text\")\n\t\t    .text((d) => {\n\t\t        return this.props.stateMap[d.properties.name];\n\t\t    })\n\t\t    .attr(\"x\", function(d){\n\t\t        return path.centroid(d)[0];\n\t\t    })\n\t\t    .attr(\"y\", function(d){\n\t\t        return  path.centroid(d)[1];\n\t\t    })\n\t\t    .attr(\"text-anchor\",\"middle\")\n\t\t    .attr('font-size','6pt');\n\n        svg.append(\"path\")\n           .attr(\"class\", \"state-boundaries\")\n           .datum(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; }))\n           .attr(\"class\", \"mesh\")\n           .attr(\"d\", path);\n\n        const data = this.props.airports;\n\n    \tdata.forEach(function (d) {\n\t        d.LATITUDE = +d.LATITUDE;\n\t        d.LONGITUDE = +d.LONGITUDE;\n\t    });\n\n\t    const projection = d3.geoAlbersUsa()\n\t\t\t\t\t\t\t .scale(1280)\n    \t\t\t\t\t\t .translate([480, 300]);\n\n    \tconst g = svg.append(\"g\")\n    \t\t\t\t .attr(\"id\", \"mapG\")\n    \t\t\t\t // .attr(\"class\", \"bubble\");\n\n   //  \tvar symbols = g.selectAll(\"circle\")\n\t  //       \t\t   .data(data, (d) => {return d})\n\n\t  //   symbols.enter().append(\"circle\")\n\t\t\t// .attr(\"class\", \"enter\")\n\t\t\t// .attr(\"class\", \"bubble\")\n\t\t\t// // .transition(t)\n\t\t\t// .attr(\"r\", 3)\n\t\t\t// .attr(\"transform\", (d) => {\n\t\t\t// \tvar location_ = [];\n\t\t\t// \tlocation_.push(d.LONGITUDE);\n\t\t\t// \tlocation_.push(d.LATITUDE);\n\t\t\t// \tvar proLocation = projection(location_);\n\t\t\t// \tif (!proLocation) proLocation = [867.169335964292, 190.40024748993005];\n\t\t\t// \treturn \"translate(\" + proLocation + \")\";\n\t\t\t// })\n\t\t\t// .on(\"click\", (d) => {\n\t\t\t// \tconsole.log(d);\n\t\t\t// })\n   //  \t\t.append(\"title\")\n   //  \t\t.text(function(d) { return d.AIRPORT + ', ' + d.STATE })\t\n\n\t}\n\n\tupdateAirports() {\n\t\tconst data = this.props.airports;\n\t\tconsole.log(data)\n    \tdata.forEach(function (d) {\n\t        d.LATITUDE = +d.LATITUDE;\n\t        d.LONGITUDE = +d.LONGITUDE;\n\t    });\n\n        const projection = d3.geoAlbersUsa()\n\t\t\t\t\t\t\t    .scale(1280)\n    \t\t\t\t\t\t\t.translate([480, 300]);\n\n    \tconst g = d3.select(\"#mapG\");\n    \t\n    \t// var maxProperty = Math.max.apply(Math, data.map(function (data) {\n\t    //     return data.LATITUDE;\n\t    // }));\n    \t\n        // d3.selectAll(\".bubble\").remove();\n\n        var t = d3.transition()\n      \t\t\t.duration(400);\n\n        var symbols = g.selectAll('circle')\n        \t\t\t   .data(data, (d) => {return d})\n       \t\n       \tvar tooltip = d3.select(\"#mapTooltip\")\n       \t// symbols.exit().remove();\n\n       \t// EXIT old elements not present in new data.\n\t\tsymbols.exit()\n\t\t\t.attr(\"class\", \"exit\")\n\t\t\t.attr(\"class\", \"bubble\")\n\t\t\t.transition(t)\n\t\t\t.attr(\"r\", 0)\n      \t\t.style(\"fill-opacity\", 1e-6)\n\t\t  \t.remove();\n\n\t\t// UPDATE old elements present in new data.\n\t\tsymbols.attr(\"class\", \"update\")\n\t\t\t.attr(\"class\", \"bubble\")\n\t\t\t// .transition(t)\n\t\t\t.attr(\"r\", 5)\n\t\t\t.attr(\"transform\", function (d) {\n\t\t\t\tvar location_ = [];\n\t\t\t\tlocation_.push(d.LONGITUDE);\n\t\t\t\tlocation_.push(d.LATITUDE);\n\t\t\t\tvar proLocation = projection(location_);\n\t\t\t\tif (!proLocation) proLocation = [1000.169335964292, 190.40024748993005];\n\t\t\t\treturn \"translate(\" + proLocation + \")\";\n\t\t\t})\n\t\t\t.on(\"click\", (d) => {\n\t\t\t\tthis.handleAirportClick(d);\n\t\t\t})\n\n    \t\t.append(\"title\")\n    \t\t.text(function(d) {return d.AIRPORT + ', ' + d.STATE })\n\n\t\t// ENTER new elements present in new data.\n\t\tsymbols.enter().append(\"circle\")\n\t\t\t.attr(\"class\", \"enter\")\n\t\t\t.attr(\"class\", \"bubble\")\n\t\t\t// .transition(t)\n\t\t\t.attr(\"r\", 5)\n\t\t\t.attr(\"transform\", (d) => {\n\t\t\t\tvar location_ = [];\n\t\t\t\tlocation_.push(d.LONGITUDE);\n\t\t\t\tlocation_.push(d.LATITUDE);\n\t\t\t\tvar proLocation = projection(location_);\n\t\t\t\tif (!proLocation) proLocation = [1000.169335964292, 190.40024748993005];\n\t\t\t\treturn \"translate(\" + proLocation + \")\";\n\t\t\t})\n\t\t\t.on(\"click\", (d) => {\n\t\t\t\tthis.handleAirportClick(d);\n\t\t\t})\n\t\t\t// .on(\"mousemove\", d => { \n\t\t\t// \t// tooltip.text(\"Total Revenue: \");\n\t\t\t// \treturn tooltip.style(\"top\",(d3.event.pageY-100)+\"px\")\n\t\t\t// \t\t\t\t.style(\"left\",(d3.event.pageX+10)+\"px\");\n\t\t\t// })\n\t\t\t// .on(\"mouseover\", d => {\n\t\t\t// \t// console.log(d);\n\t\t //      // d3.select(this).style(\"stroke\", \"black\");\n\t\t //      tooltip.text(d.AIRPORT + ', ' + d.STATE);\n\t\t //      return tooltip.style(\"visibility\", \"visible\");\n\t\t\t// })\n\t\t\t// .on(\"mouseout\", function() { d3.select(this).style(\"stroke\", \"\");\n   //    \t\t\t\treturn tooltip.style(\"visibility\", \"hidden\"); })\n    \t\t.append(\"title\")\n    \t\t.text(function(d) { return d.AIRPORT + ', ' + d.STATE })\t\n\t}\n\n    handleAirportClick(airport) {\n    \tthis.props.onAirportClick(airport);\n    }\n\n    handleStateClick(state) {\n    \tthis.props.onStateClick(state);\n    }\n    \n\n    render() {\n        return (\n        \t<React.Fragment>\n        \t<div ref={this.anchor} />\n    \t\t<div id=\"mapTooltip\" className=\"map-tooltip\"/>\n        \t</React.Fragment>\n        );\n    }\n}","import React from 'react';\nimport * as d3 from 'd3';\nimport '../css/Bar.css';\n\n\nexport default class BarChart extends React.Component {\n\tconstructor(props) {\n      super(props)\n      \n      this.state = {\n        usData: null,\n      }\n      this.anchor = React.createRef();\n    }\n\n    componentDidMount() {\n    \tthis.setBar2();\n    }\n\n    componentDidUpdate() {\n    \tthis.updateAvgDelay2();\n    }\n\n    updateAvgDelay2() {\n    \tvar data = this.props.avgDelay;\n    \tdata.sort(function(a, b) { return a.AvgTotal - b.AvgTotal; });\n    \tconsole.log(data)\n\n    \tconst keys = [\"avgArrivalDelay\", \"avgDepartureDelay\"];\n    \tconst colors = [\"#98abc5\", \"#a05d56\"];\n\n\t \tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 40, top: 10, right: 10, bottom: 20},\n\t    \twidth = 600 - margin.left - margin.right,\n\t      \theight = 300 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst g = d3.select(\"#svg-g\");\n\n    \tvar x = d3.scaleBand()\n      \t\t.rangeRound([margin.left, width - margin.right])\n      \t\t.padding(0.2);\n\n\t\t\t\n\t\tvar y = d3.scaleLinear()\n\t\t\t.rangeRound([height - margin.bottom, margin.top])\n\n\t\tvar z = d3.scaleOrdinal()\n\t\t.range(colors)\n\t\t.domain(keys);\n\n\t\t\n\t\tx.domain(data.map((d) => { return d._id;}));\n\n\n\t\tg.select(\".xaxis\")\n\t\t\t.attr(\"transform\", `translate(0,${height - margin.bottom})`)\n\t\t\t.transition()\n\t\t\t.call(d3.axisBottom(x))\n\n\n\t\ty.domain([-1, \n\t\t\td3.max(data, d => {return d.AvgTotal}) + 5])\n      \tg.select(\".yaxis\")\n      \t\t.transition()\n\t\t\t.call(d3.axisLeft(y))\n\t\t\t// .append(\"text\")\n\t\t\t// .attr(\"x\", 2)\n\t\t\t// .attr(\"y\", y(y.ticks().pop()) + 0.5)\n\t\t\t// .attr(\"dy\", \"0.32em\")\n\t\t\t// .attr(\"fill\", \"#000\")\n\t\t\t// .attr(\"font-weight\", \"bold\")\n\t\t\t// .attr(\"text-anchor\", \"start\")\n\t\t\t// .text(\"min\");\n\n\t\tz.domain(keys);\n\n\t\tconst stack_g = g.select(\".zaxis\")\n\t\t\t\t\t\t.selectAll(\"g\")\n\t\t\t\t\t\t.data(d3.stack().keys(keys)(data), (d) => {return d})\n\t\t\t\t\t\t\n\n    \t// d3.selectAll(\".bar\").remove();\n    \tvar t = d3.transition()\n      \t\t\t.duration(400);\n\n      \tvar tooltip = d3.select(\"#barTooltip\")\n      \t\t\t\t\t.style(\"z-index\", \"999\")\n\n\t\t// EXIT old elements not present in new data.\n\t\tstack_g.exit()\n\t\t\t.attr(\"class\", \"exit\")\n\t\t\t.transition(t)\n\t\t\t.attr(\"y\", 20)\n      \t\t.style(\"fill-opacity\", 1e-6)\n\t\t  \t.remove();\n\n\t\t// UPDATE old elements present in new data.\n\t\tstack_g.attr(\"class\", \"update\")\n\t\t\t// .attr(\"class\", \"bar\")\n\t\t\t.selectAll(\"rect\")\n\t\t\t.data((d) => {return d})\n\t\t\t.enter()\n\t\t\t.transition(t)\n\t\t\t.attr(\"x\", function(d) { return x(d.data._id); })\n\t\t\t.attr(\"y\", function(d) { return y(d[1]); })\n\t\t\t.attr(\"height\", function(d) { return y(d[0]) - y(d[1]); })\n\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t\n\n\t\t// ENTER new elements present in new data.\n\t\tstack_g.enter().append(\"g\")\n\t\t\t.attr(\"fill\", function(d) { return z(d.key); })\n\t\t\t.attr(\"class\", \"enter\")\n\t\t\t// .attr(\"class\", \"bar\")\n\t\t\t// .attr(\"fill\", function(d) { return z(d.key); })\n\t\t\t.selectAll(\"rect\")\n\t\t\t.data((d) => {return d})\n\t\t\t.enter().append('rect')\n\t\t\t.transition(t)\n\t\t\t.attr(\"x\", function(d) { return x(d.data._id); })\n\t\t\t.attr(\"y\", function(d) { return y(d[1]); })\n\t\t\t.attr(\"height\", function(d) { return y(d[0]) - y(d[1]); })\n\t\t\t.attr(\"width\", x.bandwidth())\n\n\n\n\t\t\td3.selectAll(\"rect\")\n\t\t\t.on(\"mousemove\", d => { \n\t\t\t\treturn tooltip.style(\"top\",(d3.event.pageY-40)+\"px\")\n\t\t\t\t\t\t\t.style(\"left\",(d3.event.pageX+10)+\"px\");\n\t\t\t}).on(\"mouseout\", function() { \n\t\t\t\td3.select(this).style(\"stroke\", \"\");\n      \t\t\treturn tooltip.style(\"visibility\", \"hidden\"); \n      \t\t})\n\t\t\t.on(\"mouseover\", function(d) {\n\t\t      tooltip.text((d[1] - d[0]).toFixed(1));\n\t\t      return tooltip.style(\"visibility\", \"visible\");\n\t\t    });\n\n\t\t\n    }\n\n    updateAvgDelay() {\n    \tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 40, top: 10, right: 10, bottom: 20},\n\t    \twidth = 400 - margin.left - margin.right,\n\t      \theight = 250 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst data = this.props.avgDelay;\n    \tconsole.log(data);\n\n    \tconst g = d3.select(\"#svg-g\");\n\n\t\tvar x = d3.scaleBand()\n      \t\t.rangeRound([0, width])\n      \t\t.padding(0.2);\n\n\t\tvar y = d3.scaleLinear()\n\t\t\t.rangeRound([height, 0])\n\t\t\n\t\tx.domain(data.map((d) => { return d._id;}));\n\n\n\t\tg.select(\".xaxis\")\n\t\t\t.attr(\"transform\", \"translate(0,\" + height + \")\")\n\t\t\t.transition()\n\t\t\t.call(d3.axisBottom(x))\n\n\n\t\ty.domain([\n\t\t\td3.min(data, function (d) {\n\t\t\treturn Number(d.avgArrivalDelay);\n\t\t}) - 2, \n\t\t\td3.max(data, function (d) {\n\t\t\treturn Number(d.avgArrivalDelay);\n\t\t}) + 2]);\n\n      \tg.select(\".yaxis\")\n      \t\t.transition()\n\t\t\t.call(d3.axisLeft(y));\n\n    \t// d3.selectAll(\".bar\").remove();\n    \tvar t = d3.transition()\n      \t\t\t.duration(400);\n\n    \tconst bars = g.selectAll(\"rect\")\n\t\t\t\t\t\t.data(data, (d) => {console.log(d);return d});\n\n\t\t// EXIT old elements not present in new data.\n\t\tbars.exit()\n\t\t\t.attr(\"class\", \"exit\")\n\t\t\t.attr(\"class\", \"bar\")\n\t\t\t.transition(t)\n\t\t\t.attr(\"y\", 60)\n      \t\t.style(\"fill-opacity\", 1e-6)\n\t\t  \t.remove();\n\n\t\t// UPDATE old elements present in new data.\n\t\tbars.attr(\"class\", \"update\")\n\t\t\t.attr(\"class\", \"bar\")\n\t\t\t.transition(t)\n\t\t\t.attr(\"x\", function (d) {\n\t\t\t\treturn x(d._id);\n\t\t\t})\n\t\t\t.attr(\"y\", function (d) {\n\t\t\t\treturn y(Number(d.avgArrivalDelay));\n\t\t\t})\n\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t.attr(\"height\", function (d) {\n\t\t\t\treturn height - y(Number(d.avgArrivalDelay));\n\t\t\t});\n\n\t\t// ENTER new elements present in new data.\n\t\tbars.enter().append(\"rect\")\n\t\t\t.attr(\"class\", \"enter\")\n\t\t\t.attr(\"class\", \"bar\")\n\t\t\t.transition(t)\n\t\t\t.attr(\"x\", function (d) {\n\t\t\t\treturn x(d._id);\n\t\t\t})\n\t\t\t.attr(\"y\", function (d) {\n\t\t\t\treturn y(Number(d.avgArrivalDelay));\n\t\t\t})\n\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t.attr(\"height\", function (d) {\n\t\t\t\treturn height - y(Number(d.avgArrivalDelay));\n\t\t\t});\t\n\n\t\t// bars.enter().append(\"rect\")\n\t\t// .attr(\"class\", \"bar\")\n\n\t\t// bars.transition()\n\t //        .duration(400)\n\t\t// \t.attr(\"x\", function (d) {\n\t\t// \t\treturn x(d._id);\n\t\t// \t})\n\t\t// \t.attr(\"y\", function (d) {\n\t\t// \t\treturn y(Number(d.avgArrivalDelay));\n\t\t// \t})\n\t\t// \t.attr(\"width\", x.bandwidth())\n\t\t// \t.attr(\"height\", function (d) {\n\t\t// \t\tconsole.log(height - y(Number(d.avgArrivalDelay)));\n\t\t// \t\treturn height - y(Number(d.avgArrivalDelay));\n\t\t// \t});\n\t\t// bars.exit().remove();\n    }\n\n    setBar() {\n    \tconst data = this.props.avgDelay;\n\n\t \tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 40, top: 10, right: 10, bottom: 20},\n\t    \twidth = 400 - margin.left - margin.right,\n\t      \theight = 250 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst svg = d3.select(this.anchor.current)\n    \t\t\t\t.append(\"svg\")\n    \t\t\t\t.style(\"padding\", marginRatio.top + \" \" + marginRatio.right + \" \" + marginRatio.bottom + \" \" + marginRatio.left)\n\t\t\t\t\t.attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n\t\t\t\t\t.attr(\"viewBox\", \"0 0 \" + ( width + margin.left + margin.right  ) + \" \" + ( height + margin.top + margin.bottom ))\n\t\t\t\t\t.attr(\"id\", \"svg-bar\")\n\t\t\t\t\t.attr(\"class\", \"graph-svg-placeholder\");\n\n\t\tconst g = svg.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\t\t\t\t\t.attr(\"id\", \"svg-g\")\n\t\tg.append(\"g\")\n    \t\t.classed(\"xaxis\", true)\n\n\t    g.append(\"g\")\n\t    \t.classed(\"yaxis\", true)\n\n\t    var x = d3.scaleBand()\n      \t\t.rangeRound([0, width])\n      \t\t.padding(0.2);\n\n\t\t\t\n\t\tvar y = d3.scaleLinear()\n\t\t\t.rangeRound([height, 0])\n\t\t\n\n\t\tx.domain(data.map((d) => { return d._id;}));\n\n\t\tg.select(\".xaxis\")\n\t\t\t.attr(\"transform\", \"translate(0,\" + height + \")\")\n\t\t\t.transition()\n\t\t\t.call(d3.axisBottom(x))\n\n\n\t\ty.domain([\n\t\t\td3.min(data, function (d) {\n\t\t\treturn Number(d.avgArrivalDelay);\n\t\t}) - 2, \n\t\t\td3.max(data, function (d) {\n\t\t\treturn Number(d.avgArrivalDelay);\n\t\t}) + 2]);\n\n      \tg.select(\".yaxis\")\n\t\t\t.call(d3.axisLeft(y))\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"fill\", \"#000\")\n\t\t\t.attr(\"transform\", \"rotate(-90)\")\n\t\t\t.attr(\"y\", 6)\n\t\t\t.attr(\"dy\", \"0.71em\")\n\t\t\t.attr(\"text-anchor\", \"end\")\n\t\t\t.text(\"Average Delay (min)\");\n\n\t    const bars = g.selectAll(\".bar\")\n\t\t\t\t\t\t.data(this.props.avgDelay);\n\t\t\n\t\tbars.enter().append(\"rect\")\n\t\t.attr(\"class\", \"bar\")\n\t\t.attr(\"x\", function (d) {\n\t\t\t\treturn x(d._id);\n\t\t\t})\n\t\t\t.attr(\"y\", function (d) {\n\t\t\t\treturn y(Number(d.avgArrivalDelay));\n\t\t\t})\n\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t.attr(\"height\", function (d) {\n\t\t\t\treturn height - y(Number(d.avgArrivalDelay));\n\t\t\t});\n    }\n\n    setBar2() {\n    \tvar data = this.props.avgDelay;\n    \tdata.sort(function(a, b) { return a.AvgTotal - b.AvgTotal; });\n    \tconsole.log(data)\n    \tconst keys = [\"avgArrivalDelay\", \"avgDepartureDelay\"];\n\n\t \tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 40, top: 10, right: 10, bottom: 20},\n\t    \twidth = 600 - margin.left - margin.right,\n\t      \theight = 300 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst svg = d3.select(this.anchor.current)\n    \t\t\t\t.append(\"svg\")\n    \t\t\t\t.style(\"padding\", marginRatio.top + \" \" + marginRatio.right + \" \" + marginRatio.bottom + \" \" + marginRatio.left)\n\t\t\t\t\t.attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n\t\t\t\t\t.attr(\"viewBox\", \"0 0 \" + ( width + margin.left + margin.right  ) + \" \" + ( height + margin.top + margin.bottom ))\n\t\t\t\t\t.attr(\"id\", \"svg-bar\")\n\t\t\t\t\t.attr(\"class\", \"graph-svg-placeholder\");\n\n\t\tconst g = svg.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\t\t\t\t\t.attr(\"id\", \"svg-g\")\n\n\t\tg.append(\"g\")\n    \t\t.classed(\"xaxis\", true)\n\n\t    g.append(\"g\")\n\t    \t.classed(\"yaxis\", true)\n\n\t    g.append(\"g\")\n\t    \t.classed(\"zaxis\", true)\n\n\t    var x = d3.scaleBand()\n      \t\t.rangeRound([margin.left, width - margin.right])\n      \t\t.padding(0.2);\n\n\t\t\t\n\t\tvar y = d3.scaleLinear()\n\t\t\t.rangeRound([height - margin.bottom, margin.top])\n\n\t\tconst colors = [\"#98abc5\", \"#a05d56\"];\n\n\t\tvar z = d3.scaleOrdinal()\n\t\t.range(colors)\n\t\t.domain(keys);\n\t\t\n\n\t\tx.domain(data.map((d) => { return d._id;}));\n\n\t\tg.select(\".xaxis\")\n\t\t\t.attr(\"transform\", `translate(0,${height - margin.bottom})`)\n\t\t\t.transition()\n\t\t\t.call(d3.axisBottom(x))\n\n\n\t\ty.domain([-1, \n\t\t\td3.max(data, d => {return d.AvgTotal}) + 5])\n      \tg.select(\".yaxis\")\n\t\t\t.call(d3.axisLeft(y))\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"x\", 2)\n\t\t\t.attr(\"y\", y(y.ticks().pop()) + 0.5)\n\t\t\t.attr(\"dy\", \"0.32em\")\n\t\t\t.attr(\"fill\", \"#000\")\n\t\t\t.attr(\"font-weight\", \"bold\")\n\t\t\t.attr(\"text-anchor\", \"start\")\n\t\t\t.text(\"min\");\n\n\t\tz.domain(keys);\n\t\tconst stack_g = g.select(\".zaxis\")\n\t\t\t\t\t\t.selectAll(\"g\")\n\t\t\t\t\t\t.data(d3.stack().keys(keys)(data))\n\t\t\t\t\t\t.enter().append(\"g\")\n\t\t\t\t\t\t.attr(\"fill\", function(d) { return z(d.key); })\n\n\t\tconst stack_rect = stack_g.selectAll(\"rect\")\n\t\t\t\t\t.data(function(d) { return d; })\n\t\t\t\t\t.enter().append(\"rect\")\n\t\t\t\t\t.attr(\"class\", \"bar\")\n\t\t\t\t\t.attr(\"x\", function(d) { return x(d.data._id); })\n\t\t\t\t\t.attr(\"y\", function(d) { return y(d[1]); })\n\t\t\t\t\t.attr(\"height\", function(d) { return y(d[0]) - y(d[1]); })\n\t\t\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t\t\t.on('click', d => {\n\t\t\t\t\t\tthis.props.onClickAirline(d.data._id);\n\t\t\t\t\t})\n\t\t\n\t\tvar tooltip = d3.select(\"#barTooltip\")\n\n\t\t\tstack_rect.on(\"mousemove\", d => { \n\t\t\t\treturn tooltip.style(\"top\",(d3.event.pageY-40)+\"px\")\n\t\t\t\t\t\t\t.style(\"left\",(d3.event.pageX+10)+\"px\");\n\t\t\t}).on(\"mouseout\", function() { \n\t\t\t\td3.select(this).style(\"stroke\", \"\");\n      \t\t\treturn tooltip.style(\"visibility\", \"hidden\"); \n      \t\t})\n\t\t\t.on(\"mouseover\", function(d) {\n\t\t      console.log(d);\n\t\t      tooltip.text((d[1] - d[0]).toFixed(1));\n\t\t      return tooltip.style(\"visibility\", \"visible\");\n\t\t    });\n\n\t\t\t\n\n\t\tvar legend = g.append(\"g\")\n\t\t.attr(\"font-family\", \"sans-serif\")\n\t\t.attr(\"font-size\", 10)\n\t\t.attr(\"text-anchor\", \"end\")\n\t\t.selectAll(\"g\")\n\t\t.data(keys.slice().reverse())\n\t\t.enter().append(\"g\")\n\t\t.attr(\"transform\", function(d, i) { return \"translate(0,\" + i * 20 + \")\"; });\n\n\t\tlegend.append(\"rect\")\n\t\t.attr(\"x\", width - 19)\n\t\t.attr(\"width\", 19)\n\t\t.attr(\"height\", 19)\n\t\t.attr(\"fill\", z);\n\n\t\tlegend.append(\"text\")\n\t\t.attr(\"x\", width - 24)\n\t\t.attr(\"y\", 9.5)\n\t\t.attr(\"dy\", \"0.32em\")\n\t\t.text(function(d) { return d; });\n    }\n\n    render() {\n    \treturn(\n    \t\t<React.Fragment>\n    \t\t<div ref={this.anchor} />\n    \t\t</React.Fragment>\n    \t);\n    }\n}","import React from 'react';\nimport * as d3 from 'd3';\nimport '../css/Text.css';\n\nexport default class TextChart extends React.Component {\n\tconstructor(props) {\n      super(props)\n      \n      this.anchor = React.createRef();\n    }\n\n    componentDidMount() {\n    \t\n    \tthis.setBar()\n    \tthis.updateAvgDelay();\n    }\n\n    componentDidUpdate() {\n    \t\n    \tthis.updateAvgDelay();\n    }\n\n    updateAvgDelay() {\n    \tconst data = this.props.text;\n    \tconsole.log(data);\n\n    \tconst g = d3.select('#text-g')\n    \tvar t = d3.transition()\n\t\t  .duration(750);\n\n\t\t// JOIN new data with old elements.\n\t\tvar text = g.selectAll(\"text\")\n\t\t.data(data, function(d) { return d; });\n\n\t\t// EXIT old elements not present in new data.\n\t\ttext.exit()\n\t\t  .attr(\"class\", \"exit\")\n\t\t.transition(t)\n\t\t  .attr(\"y\", 60)\n\t\t  .style(\"fill-opacity\", 1e-6)\n\t\t  .style('fill', \"brown\")\n\t\t  .remove();\n\n\t\t// UPDATE old elements present in new data.\n\t\ttext.attr(\"class\", \"update\")\n\t\t  .attr(\"y\", 0)\n\t\t  .style(\"fill-opacity\", 1)\n\t\t  .style('fill', \"#333\")\n\t\t.transition(t)\n\t\t  .attr(\"x\", function(d, i) { return i * 32; });\n\n\t\t// ENTER new elements present in new data.\n\t\ttext.enter().append(\"text\")\n\t\t  .attr(\"class\", \"enter\")\n\t\t  .attr(\"dy\", \".35em\")\n\t\t  .attr(\"y\", -60)\n\t\t  .attr(\"x\", function(d, i) { return i * 32; })\n\t\t  .style(\"fill-opacity\", 1e-6)\n\t\t  .style('fill', \"green\")\n\t\t  .style('font', \"bold 30px monospace\")\n\t\t  .text(function(d) { return d; })\n\t\t.transition(t)\n\t\t  .attr(\"y\", 0)\n\t\t  .style(\"fill-opacity\", 1);\n\n    }\n\n    setBar() {\n    \tconst data = this.props.text;\n    \tconsole.log(data);\n\n    \tconst width = 760;\n    \tconst height = 100;\n\n\t\tvar svg = d3.select(this.anchor.current)\n\t\t\t\t\t.append('svg')\n\t\t\t\t\t.attr('width', width)\n\t\t\t\t\t.attr('height', height)\n\t\t\t\t\t.attr(\"id\", 'svg-text')\n\t\t    \n\t\tconst g = svg.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(32,\" + (height / 2) + \")\")\n\t\t\t\t\t.attr(\"id\", \"text-g\");\n\t\t\n    }\n\n    \n\n    render() {\n    \treturn(\n    \t\t<React.Fragment>\n    \t\t<div ref={this.anchor} />\n    \t\t</React.Fragment>\n    \t);\n    }\n}","import React from 'react';\nimport * as d3 from 'd3';\nimport cloud from 'd3-cloud';\n\nexport default class WordCloud extends React.Component {\n    constructor(props) {\n      super(props)\n      \n      this.state = {\n        usData: null,\n        words: \"Information Technology Applications WebServices WebApps Windows AIX Linux JBoss IIS Splunk Nagios Monitoring VIP F5 SQL DB2 Mainframe Data MQ .NET C# VB Java JQuery Enterprise Performance Switches Routers Firewalls\"\n\n      }\n      this.anchor = React.createRef();\n    }\n\n\tcomponentDidMount() {\n     //    const url = [\"https://cdn.jsdelivr.net/npm/us-atlas@2/us/states-10m.json\"]\n\n    \t// Promise.all([\n\t\t   //  fetch(url[0])\n\t    //     .then(data => data.json()),\n    \t// ])\n    \t// .then((results) => {\n    \t// \tthis.setState({\n    \t// \t\tusData: results[0],\n    \t// \t});\n    \t// \tthis.setMap();\n    \t// \tthis.updateAirports();\n    \t// });\n    \tthis.setWordCloud();\n    }\n\n    componentDidUpdate() {\n    \t// this.updateAirports()\n    }\n\n    \n\n\tsetWordCloud() {\n\n\t\tvar getRatio = (side, margin) => {\n      \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t\t}\n\n\t    var margin = {left: 10, top: 10, right: 10, bottom: 10},\n\t    \twidth = 800 - margin.left - margin.right,\n\t      \theight = 600 - margin.top - margin.bottom,\n\t      \tmarginRatio = {\n\t        \tleft: getRatio(\"left\", margin),\n\t          \ttop: getRatio(\"top\", margin),\n\t          \tright: getRatio(\"right\", margin),\n\t          \tbottom: getRatio(\"bottom\", margin)\n\t      \t};\n\n    \tconst svg = d3.select(this.anchor.current)\n      \t\t.append(\"svg\")\n      \t\t.style(\"padding\", marginRatio.top + \" \" + marginRatio.right + \" \" + marginRatio.bottom + \" \" + marginRatio.left)\n\t\t\t.attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n\t\t\t.attr(\"viewBox\", \"0 0 \" + ( width + margin.left + margin.right  ) + \" \" + ( height + margin.top + margin.bottom ))\n\t\t\t.attr(\"id\", \"svg-cloud\")\n\t\t\t.attr(\"class\", \"graph-svg-placeholder\");\n    \t\n        // const { width, height } = this.props;  \n        const tweets = this.state.words.replace(/[!\\,:;\\?]/g, '')\n              .split(' ')\n              .map(function(d) {\n                  return {text: d, size: 20 + Math.random() * 60};\n              })\n        console.log(tweets)\n\t\tvar layout = cloud()\n\t\t    .size([500, 500])\n\t\t    .words(tweets)\n\t\t    .padding(5)\n\t\t    .rotate(function() { return (Math.random() * 2) * 90; })\n\t\t    .font(\"Impact\")\n\t\t    .fontSize(function(d) { return d.size; })\n\t\t    .on(\"end\", draw);\n\n\t\tlayout.start();\n\t\t\n\n\t\tfunction draw(words) {\n\t\t\tvar colors = [\"#98abc5\", \"#8a89a6\", \"#7b6888\", \"#6b486b\", \"#a05d56\", \"#d0743c\", \"#ff8c00\"];\n\t\t\n\t\t  d3.select(\"#svg-cloud\")\n\t\t      .attr(\"width\", layout.size()[0])\n\t\t      .attr(\"height\", layout.size()[1])\n\t\t    .append(\"g\")\n\t\t      .attr(\"transform\", \"translate(\" + layout.size()[0] / 2 + \",\" + layout.size()[1] / 2 + \")\")\n\t\t    .selectAll(\"text\")\n\t\t      .data(words)\n\t\t    .enter().append(\"text\")\n\t\t      .style(\"font-size\", function(d) { return d.size + \"px\"; })\n\t\t      .style(\"font-family\", \"Impact\")\n\t\t      .attr(\"text-anchor\", \"middle\")\n\t\t      .style(\"fill\", (d, i) => { return colors[i]; })\n\t\t      .attr(\"transform\", function(d) {\n\t\t        return \"translate(\" + [d.x, d.y] + \")rotate(\" + d.rotate + \")\";\n\t\t      })\n\t\t      .text(function(d) { return d.text; });\n\n\t\t      // .style(\"font-family\", \"Impact\")\n        //     \t.style(\"fill\", (d, i) => { return colors[i]; })\n        // \t\t.style(\"fill-opacity\", 1)\n        //     .attr(\"text-anchor\", \"middle\")\n        //     .attr('font-size', 1)\n        //     .text(function(d) { return d.text; });\n  \n\t\t}\n\n\n\t\t// console.log(this.props.words);\n\t\t// // const words = this.props.words;\n\t\t// const words = \"Information Technology Applications WebServices WebApps Windows AIX Linux JBoss IIS Splunk Nagios Monitoring VIP F5 SQL DB2 Mainframe Data MQ .NET C# VB Java JQuery Enterprise Performance Switches Routers Firewalls\"\n\t\t// var color = d3.scaleOrdinal(d3.schemeSpectral[9]);\n\t\t// var getRatio = (side, margin) => {\n  //     \t\treturn (( margin[side] / width ) * 100 + 1) + \"%\";\n \t// \t}\n\n\t //    var margin = {left: 10, top: 10, right: 10, bottom: 10},\n\t //    \twidth = 800 - margin.left - margin.right,\n\t //      \theight = 600 - margin.top - margin.bottom,\n\t //      \tmarginRatio = {\n\t //        \tleft: getRatio(\"left\", margin),\n\t //          \ttop: getRatio(\"top\", margin),\n\t //          \tright: getRatio(\"right\", margin),\n\t //          \tbottom: getRatio(\"bottom\", margin)\n\t //      \t};\n\n  //   \tconst svg = d3.select(this.anchor.current)\n  //     \t\t.append(\"svg\")\n  //     \t\t.style(\"padding\", marginRatio.top + \" \" + marginRatio.right + \" \" + marginRatio.bottom + \" \" + marginRatio.left)\n\t\t// \t.attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n\t\t// \t.attr(\"viewBox\", \"0 0 \" + ( width + margin.left + margin.right  ) + \" \" + ( height + margin.top + margin.bottom ))\n\t\t// \t.attr(\"id\", \"svg-content-responsive\")\n\t\t// \t.attr(\"class\", \"graph-svg-placeholder\");\n    \t\n  //       // const { width, height } = this.props;                             \n\n\n\n  //       var cloud = svg.selectAll(\"g text\")\n  //                       .data(words, function(d) { return d.text; })\n  //       //Entering words\n  //       cloud.enter()\n  //           .append(\"text\")\n  //           .style(\"font-family\", \"Impact\")\n  //           .style(\"fill\", function(d,i) { return color(i); })\n  //       \t\t.style(\"fill-opacity\", 0)\n  //           .attr(\"text-anchor\", \"middle\")\n  //           .attr('font-size', 1)\n  //           .text(function(d) { return d.text; });\n  //       //Entering and existing words\n  //       cloud\n  //           .transition()\n  //               .duration(1000)\n  //               .style(\"font-size\", function(d) { return d.size + \"px\"; })\n  //       \t\t\t\t.style(\"fill\", function(d,i) { return color(i); })\n  //               .attr(\"transform\", function(d) {\n  //                   return \"translate(\" + [d.x, d.y] + \")rotate(\" + d.rotate + \")\";\n  //               })\n  //               .style(\"fill-opacity\", 1);\n\n  //       //Exiting words\n  //       cloud.exit()\n  //           .transition()\n  //               .duration(200)\n  //               .style('fill-opacity', 0)\n  //               .attr('font-size', 1)\n  //               .remove();\n\t}\n\n    \n\n    render() {\n        return (\n        \t<React.Fragment>\n        \t<div ref={this.anchor} />\n        \t</React.Fragment>\n        );\n    }\n}","import React from 'react';\n// import './App.css';\nimport MapChart from './js/Map.js';\nimport BarChart from './js/Bar.js';\nimport TextChart from './js/Text.js';\nimport WordCloud from './js/WordCloud.js';\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport avgDelay from './AvgDelay.json';\nimport usState from './js/us-state.json';\nimport airlines_dict from './js/airlines_dict.json';\nimport * as d3 from 'd3';\n\n\n\nconst stateMap = {};\nObject.keys(usState).forEach((key) => {\n  stateMap[usState[key]] = key;\n});\n\nclass App extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      airports: null,\n      airportsSlice: null,\n      avgDelay: null,\n      alphabet: \"abcdefghijklmnopqrstuvwxyz\".split(\"\"),\n      text: null,\n      tweets: null,\n    }\n    this.handleMapStateClick = this.handleMapStateClick.bind(this);\n    this.handleShowAllAirports = this.handleShowAllAirports.bind(this);\n    this.handleAirportClick = this.handleAirportClick.bind(this);\n    this.handleAirlineClick = this.handleAirlineClick.bind(this);\n  }\n  \n  componentDidMount() {\n      const url = [\"https://aukt2i8vp5.execute-api.us-east-1.amazonaws.com/Prod/main\"]\n      const opts = {\"type\": \"basic\"};\n\n      Promise.all([\n        fetch(url[0], {\n          method: 'post',\n          body: JSON.stringify(opts)\n        })\n        .then(data => data.json()),\n      ])\n      .then((results) => {\n        this.setState({\n          airports: JSON.parse(JSON.parse(results[0].airports)),\n          airportsSlice: JSON.parse(JSON.parse(results[0].airports)),\n          avgDelay: avgDelay,\n          text: this.state.alphabet,\n        });\n      });\n  }\n\n  handleShowAllAirports() {\n\n    this.setState({\n      airportsSlice: this.state.airports,\n      avgDelay: avgDelay,\n      \n    })  \n  }\n\n  handleAirlineClick(airline) {\n    console.log(airline);\n    \n    const url = [\"https://aukt2i8vp5.execute-api.us-east-1.amazonaws.com/Prod/main\"]\n    const opts = {\"type\": \"queryTweets\", \"airline\": airlines_dict[airline]};\n\n    Promise.all([\n      fetch(url[0], {\n        method: 'post',\n        body: JSON.stringify(opts)\n      })\n      .then(data => data.json())\n      .catch((e) => console.log(e)),\n    ])\n    .then((results) => {\n      \n      const data = JSON.parse(JSON.parse(results[0].tweets));\n      // console.log(data)\n      var text = \"\";\n      data.forEach((item) => {\n        if (item.text !== null) {\n          // Todo...\n          text = text + item.text\n        }\n      })\n      // console.log(text)\n      const tweets = text.replace(/[!\\,:;\\?]/g, '')\n              .split(' ')\n              .map(function(d) {\n                  return {text: d, size: 20 + Math.random() * 60};\n              })\n      // console.log(tweets)\n      this.setState({\n        tweets: text,\n      })\n    });\n\n  }\n\n  handleAirportClick(airport) {\n    console.log(airport);\n    const airports = [];\n    airports.push(airport.IATA_CODE);\n\n    const url = [\"https://aukt2i8vp5.execute-api.us-east-1.amazonaws.com/Prod/main\"]\n    const opts = {\"type\": \"queryAirports\", \"isDeparture\": true, \"airports\": airports };\n\n    Promise.all([\n      fetch(url[0], {\n        method: 'post',\n        body: JSON.stringify(opts)\n      })\n      .then(data => data.json())\n      .catch((e) => console.log(e)),\n    ])\n    .then((results) => {\n      \n      const data = JSON.parse(JSON.parse(results[0].delay));\n      data.forEach((item) => {\n        // Todo...\n        for (const [key, value] of Object.entries(item)) {\n          console.log(key, value);\n          if (!isNaN(value) && value < 0) {\n            item[key] = 0;\n          } \n        }\n        item[\"AvgTotal\"] = item[\"avgArrivalDelay\"] + item[\"avgDepartureDelay\"]\n        console.log(item[\"AvgTotal\"])\n      })\n      console.log(data);\n      this.setState({\n        avgDelay: data,\n      })\n    });\n  }\n\n  handleMapStateClick(state) {\n    var filtered = this.state.airports.filter(function(d) {\n        return (d.STATE === state);\n    })\n\n    const airports = [];\n    filtered.forEach((item) => {\n      // Todo...\n      airports.push(item.IATA_CODE)\n    });\n\n    const url = [\"https://aukt2i8vp5.execute-api.us-east-1.amazonaws.com/Prod/main\"]\n    const opts = {\"type\": \"queryAirports\", \"isDeparture\": true, \"airports\": airports};\n\n    Promise.all([\n      fetch(url[0], {\n        method: 'post',\n        body: JSON.stringify(opts)\n      })\n      .then(data => data.json())\n      .catch((e) => console.log(e)),\n    ])\n    .then((results) => {\n      const data = JSON.parse(JSON.parse(results[0].delay));\n      data.forEach((item) => {\n        // Todo...\n        for (const [key, value] of Object.entries(item)) {\n          if (!isNaN(value) && value < 0) {\n            item[key] = 0;\n          } \n        }\n        item[\"AvgTotal\"] = item[\"avgArrivalDelay\"] + item[\"avgDepartureDelay\"]\n      })\n      const text = d3.shuffle(this.state.alphabet).slice(0, Math.floor(Math.random() * 26)).sort()\n      this.setState({\n        avgDelay: data,\n        airportsSlice: filtered,\n        text: text,\n      })\n    });\n\n  }\n\n  render() {\n    if (!this.state.airports) return null;\n\n    return (\n      <React.Fragment>\n          <div id=\"barTooltip\" className=\"bar-tooltip\" />\n          <Row className=\"justify-content-md-center\"> \n            <Col md=\"auto\" > \n              <Button variant=\"outline-info\" onClick={this.handleShowAllAirports}> Show all airports </Button>\n            </Col>\n          </Row>\n          <Row>\n            <TextChart text={this.state.text} />\n          </Row>\n          <Row>\n            <Col md={6}>\n              <MapChart \n              stateMap={stateMap} \n              airports={this.state.airportsSlice}\n              onStateClick={this.handleMapStateClick}\n              onAirportClick={this.handleAirportClick}/>\n            </Col>\n            <Col md={4}>\n              \n                <BarChart \n                  avgDelay={this.state.avgDelay}\n                  onClickAirline={this.handleAirlineClick}/>\n              \n              \n                <WordCloud words={this.state.tweets} />\n              \n            </Col>\n          </Row>\n\n\n          \n        \n         \n      </React.Fragment>\n    );\n  }\n  \n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}